---
layout: post
title: "NAnt <copy> task behaves differently in 0.92 and prior versions"
date: 2013-01-03T11:35:00+02:00
comments: false
categories:
 - NAnt
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">If you need to copy a folder together with all its contents to another folder in NAnt, you would typically write something like this:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:4960f8c7-91c0-4ec8-8979-ab0fde40976f" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: xml;wrap-lines:false;">&lt;copy todir="${target}"&gt;<br />  &lt;fileset basedir="${source}" /&gt;<br />&lt;/copy&gt;</pre></div>It turns out this code works correctly in NAnt 0.92 Alpha and above. The output is expected:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:871b39e6-e873-499d-bcab-3017221ef94f" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: xml;">[copy] Copying 1 directory to '...'.</pre></div>However, the same code doesn’t work in prior versions of NAnt, for instance, 0.91. The output is as follows (only in –debug+ mode):<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:52c67d5f-bfa3-485c-b3e4-c2ec64294d6e" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: xml;">[copy] Copying 0 files to '...'.</pre></div>Obviously, <a href="https://github.com/nant/nant/issues/11" target="_blank">the issue was fixed in 0.92</a>, so the best recommendation would be to upgrade NAnt toolkit. However, if this is not an option for some reason, the following code seems to work correctly for any version:<br /><div class="wlWriterEditableSmartContent" id="scid:f32c3428-b7e9-4f15-a8ea-c502c7ff2e88:566e2066-71ca-4983-a0b5-40d35ce3f5bb" style="display: inline; float: none; margin: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="brush: xml;">&lt;copy todir="${target}"&gt;<br />  &lt;fileset basedir="${source}"&gt;<br />    &lt;include name="**/*" /&gt;<br />  &lt;/fileset&gt;<br />&lt;/copy&gt;</pre></div>Hope this saves you some time.</div></div>
